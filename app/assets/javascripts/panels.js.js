// Generated by CoffeeScript 1.7.1
var ready;

ready = function() {
  var $door_height, $door_inset, $door_width, $panel_model, $panel_width, allow_height, clear_door_options, door_validator, form_model_options, full_door, full_panel, hide_door_options, inset_door, left_door, min_panel, right_door, show_door_options, zero_inset;
  $panel_model = $('#panel-model');
  $panel_width = $('#panel-width select');
  $door_width = $('#door-width select');
  $door_height = $('#door-height select');
  $door_inset = $('#door-inset select');
  show_door_options = function() {
    $('.door-width').each(function() {
      return $(this).fadeIn(200);
    });
    $('.door-height').each(function() {
      return $(this).fadeIn(200);
    });
    $('.door-inset').each(function() {
      return $(this).fadeIn(200);
    });
    return allow_height();
  };
  hide_door_options = function() {
    full_panel();
    $('.door-width').each(function() {
      return $(this).hide();
    });
    $('.door-height').each(function() {
      return $(this).hide();
    });
    return $('.door-inset').each(function() {
      return $(this).hide();
    });
  };
  clear_door_options = function() {
    $door_width.children('option').attr("disabled", false).attr("selected", false);
    $door_height.children('option').attr("disabled", false).attr("selected", false);
    $door_inset.children('option').attr("disabled", false).attr("selected", false);
    $door_width.children('option[value=0]').attr("disabled", false).attr("selected", "selected");
    $door_height.children('option[value=0]').attr("disabled", false).attr("selected", "selected");
    return $door_inset.children('option[value=0]').attr("disabled", false).attr("selected", "selected");
  };
  allow_height = function() {
    return $door_height.children('option').attr("disabled", false);
  };
  zero_inset = function() {
    return $door_inset.children('option').attr("selected", false);
  };
  full_door = function() {
    full_panel();
    $door_width.children('option').attr("selected", false);
    $door_width.children('option[value="' + $panel_width.val() + '"]').attr("disabled", false).attr("selected", true);
    return zero_inset();
  };
  min_panel = function(min) {
    var selected;
    $panel_width.children('option').each(function() {
      if ($(this).val() < min) {

      } else {
        return $(this).attr("disabled", false);
      }
    });
    selected = $panel_width.find(':selected');
    if (selected.attr("disabled")) {
      return $panel_width.children('option[value=' + min + ']').attr("selected", true);
    }
  };
  full_panel = function() {
    return $panel_width.children('option').each(function() {
      return $(this).attr("disabled", false);
    });
  };
  inset_door = function() {
    var dw_selected, selected;
    min_panel(20);
    $door_width.children('option').each(function() {
      if ($(this).val() > $panel_width.val() - 8 || $(this).val() === "0") {

      } else {
        return $(this).attr("disabled", false);
      }
    });
    dw_selected = $door_width.find(':selected');
    if (dw_selected.attr("disabled")) {
      $door_width.children('option[value=8]').attr("selected", true).attr("disabled", false);
    }
    $door_inset.children('option').each(function() {
      if ($(this).val() > $panel_width.val() - $door_width.val() - 4 || $(this).val() === "0") {

      } else {
        return $(this).attr("disabled", false);
      }
    });
    selected = $door_inset.find(':selected');
    if (selected.attr("disabled")) {
      return $door_inset.children('option[value=4]').attr("selected", true).attr("disabled", false);
    }
  };
  left_door = function() {
    min_panel(20);
    $door_width.children('option').attr("disabled", false);
    $door_width.children('option').each(function() {});
    return zero_inset();
  };
  right_door = function() {
    var inset;
    min_panel(20);
    $door_width.children('option').attr("disabled", false);
    $door_width.children('option').each(function() {});
    inset = $panel_width.val() - $door_width.val();
    $door_inset.children('option').attr("selected", false);
    return $door_inset.children('option[value="' + inset + '"]').attr("selected", true).attr("disabled", false);
  };
  door_validator = function(current, change) {
    var door_width;
    if (current.text().indexOf("Dropdown Full") !== -1) {
      full_door();
    }
    if (current.text().indexOf("Dropdown Inset") !== -1) {
      inset_door();
    }
    if (current.text().indexOf("Dropdown Left") !== -1) {
      left_door();
      if (change !== false) {
        door_width = $panel_width.val() - 4;
        $door_width.children('option[value=' + door_width + ']').attr("selected", true);
      }
    }
    if (current.text().indexOf("Dropdown Right") !== -1) {
      if (change !== false) {
        door_width = $panel_width.val() - 4;
        $door_width.children('option[value=' + door_width + ']').attr("selected", true);
        return right_door();
      } else {
        return right_door();
      }
    }
  };
  form_model_options = function() {
    var current, select;
    if ($panel_model) {
      select = $panel_model.find('select');
      current = select.find(':selected');
      if (current.text().indexOf("Dropdown") !== -1) {
        show_door_options();
        door_validator(current, false);
      }
      select.change(function() {
        var chosen;
        chosen = $(this).find(':selected');
        if (chosen.text().indexOf("Dropdown") !== -1) {
          show_door_options();
          return door_validator(chosen, true);
        } else {
          clear_door_options();
          return hide_door_options();
        }
      });
      $panel_width.change(function() {
        var chosen;
        chosen = $panel_model.find(':selected');
        if ($panel_width.val() - 4 < $door_width.val()) {
          return door_validator(chosen, true);
        } else {
          return door_validator(chosen, false);
        }
      });
      return $door_width.change(function() {
        var chosen;
        chosen = $panel_model.find(':selected');
        if ($panel_width.val() - 4 < $door_width.val()) {
          return door_validator(chosen, true);
        } else {
          return door_validator(chosen, false);
        }
      });
    }
  };
  return form_model_options();
};

$(document).ready(ready);

$(document).on('page:load', ready);

//# sourceMappingURL=panels.js.map
